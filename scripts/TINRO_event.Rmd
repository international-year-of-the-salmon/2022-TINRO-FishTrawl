---
title: "TINRO"
author: "Tim van der Stap"
date: "4/7/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
library(tidyverse)
library(lubridate)
library(readxl)
library(here)
library(worrms)
library(obistools)
library(parsedate)
library(googledrive)
library(uuid)
```

Download the data.

```{r file_download}
# drive_download(file = "https://docs.google.com/spreadsheets/d/1Teh8Lcj3vCxocB2HPso19XYrZvCUspFt/edit#gid=1038314498", 
#                path = here::here("Trawl", "2019", "raw_data", "2019_GoA_Fish_Trawl_catchdata.xlsx"),
#                overwrite = TRUE)

# ... <- read_excel(here("IYS2022_TINRO.xlsx", sheet = "2. CRUISE_INSTRUMENT")) # etc

tinro_data_dictionary <- read_excel("IYS2022_TINRO.xlsx", sheet = "2. CRUISE_INSTRUMENT")
tinro_event_info <- read_excel("IYS2022_TINRO.xlsx", sheet = "4. SAMPLING EVENT INFO")
tinro_catch <- read_excel("IYS2022_TINRO.xlsx", sheet = "5. CATCH_FINAL INFO")
```

Lets make the Event Core for the Trawl data collected. Please note that for the other Event Types (Bongo, Juday, CTD and Rosette) you can use the same 

```{r TINRO-event, eval = FALSE}
tinro_event_info <- tinro_event_info %>% filter(Event_Type == "Trawl")
tinro_event_info$Time_Start <- strftime(tinro_event_info$Time_Start, "%H:%M:%S")
tinro_event_info$Time_End <- strftime(tinro_event_info$Time_End, "%H:%M:%S")

tinro_event_info$Year <- as.character(tinro_event_info$Year)
tinro_event_info$Month <- as.character(tinro_event_info$Month)
tinro_event_info$Day <- as.character(tinro_event_info$Day)
tinro_event_info <- tinro_event_info %>%
  mutate(eventDate_start = paste(Year, Month, Day, sep = "-")) %>%
  mutate(eventDate_start = format_iso_8601(as.POSIXct(paste(eventDate_start, Time_Start))),
         eventDate_start = str_replace(eventDate_start, "\\+00:00", "+12"),
         eventDate_finish = paste(Year, Month, Day, sep = "-")) %>%
  mutate(eventDate_finish = format_iso_8601(as.POSIXct(paste(eventDate_finish, Time_End))),
         eventDate_finish = str_replace(eventDate_finish, "\\+00:00", "+12")) # ToDO: Check for events that spanned across multiple days.

tinro_event_info <- tinro_event_info %>%
  mutate(eventDate = paste(eventDate_start, eventDate_finish, sep = "/"))

# The coordinates associated to the trawl need to be presented in a LINESTRING.
# END_LONGITUDE_DD needs to be inverted (has to be between -180 and 180, inclusive). 
tinro_event_info_coordinates <- tinro_event_info %>%
  select(eventID = Station_Event_ID,
         Latitude_Start_DecDeg,
         Longitude_Start_DecDeg,
         Latitude_End_DecDeg,
         Longitude_End_DecDeg) %>%
  mutate(footprintWKT = paste("LINESTRING (", Longitude_Start_DecDeg, Latitude_Start_DecDeg, ",", 
                              Longitude_End_DecDeg, Latitude_Start_DecDeg, ")")) 
tinro_event_info_linestring <- obistools::calculate_centroid(tinro_event_info_coordinates$footprintWKT)
tinro_event_info_linestring <- cbind(tinro_event_info_coordinates, tinro_event_info_linestring) %>%
  select(eventID, footprintWKT, decimalLatitude, decimalLongitude, coordinateUncertaintyInMeters)

tinro2022_event <- tinro_event_info %>%
  select(eventID = Station_Event_ID,
         eventDate,
         Year,
         Month,
         Day,
         minimumDepthInMeters = Minimum_Sampling_Depth_Meters,
         maximumDepthInMeters = Maximum_Sampling_Depth_Meters) %>%
  left_join(tinro_event_info_linestring, by = "eventID") %>%
  mutate(basisOfRecord = "HumanObservation") %>%
  distinct(eventID, .keep_all = TRUE)

# Save locally and on Google Drive:
write_csv(tinro2022_event, here("standardized_data", "tinro2022_event.csv"))
```

Always good to add in some QAQC to ensure the Event Core does not contain any duplicate eventIDs, weird dates or observations on land.

```{r eventCore QAQC, eval = FALSE}
report <- obistools::report(tinro2022_event)
print(report)

eventid <- obistools::check_eventids(tinro2022_event)

eventdate <- obistools::check_eventdate(tinro2022_event)
print(eventdate)

depth <- obistools::check_depth(tinro2022_event)
print(depth)
```

Next, create the occurrence extension for the overall taxa observed in the catches. 

```{r occurrence, eval = FALSE}
tinro_occ <- tinro_catch %>%
  select(eventID = Station_Event_ID,
         occurrenceID = Catch_ID,
         scientificName = Scientific_Name,
         taxonRank = Taxonomic_rank,
         Lifestage,
         vernacularName = common_name,
         identifiedBy,
         dateIdentified) # Include individualCount?

# Two scientific names include "sp.", which would make it difficult to match with WoRMS LSID. Therefore we remove this from scientific names, but include it under the identificationQualifier:
tinro_occ$identificationQualifier <- ifelse(grepl("\\b sp.",  tinro_occ$scientificName), "sp. inc.", NA)
tinro_occ$scientificName <- gsub(" sp.", "", tinro_occ$scientificName)

worms <- worrms::wm_records_names(unique(tinro_occ$scientificName)) %>% bind_rows() # Two species names are written wrong
tinro_occ$scientificName <- gsub("Phacellophora camtshchatica", "Phacellophora camtschatica", tinro_occ$scientificName)
tinro_occ$scientificName <- gsub("Oncorhynchus tschawytscha", "Oncorhynchus tshawytscha", tinro_occ$scientificName)
worms <- worrms::wm_records_names(unique(tinro_occ$scientificName)) %>% bind_rows() %>%
  select(scientificName = scientificname,
         scientificNameAuthorship = authority,
         kingdom, phylum, class, order, family, genus,
         scientificNameID = lsid)

tinro_occ_fnl <- left_join(tinro_occ, worms, by = "scientificName") %>%
  mutate(specificEpithet = stringr::word(tinro_occ_fnl$scientificName, 2),
         occurrenceStatus = "present")

# Save locally and on Google Drive:
write_csv(tinro_occ_fnl, "tinro2022_trawl_occ.csv")
```

Next, create an occurrence extension for the individual specimen that were identified and measured. This occurrence extension will then have to be combined with the overall catch occurrence extension:

```{r specimen, eval=FALSE}
tinro_specimen <- read_excel("IYS2022_TINRO.xlsx", sheet = "6. SPECIMEN INFO") %>%
  select(eventID = Station_Event_ID,
         occurrenceID = Specimen_ID,
         scientificName = Scientific_Name,
         taxonRank = Taxonomic_rank,
         vernacularName = common_name,
         sex = Sex,
         lifeStage = Lifestage)

#Two scientific names include "sp.", which would make it difficult to match with WoRMS LSID. Therefore we remove this from scientific names, but include it under the identificationQualifier:
tinro_specimen$identificationQualifier <- ifelse(grepl("\\b sp.",  tinro_specimen$scientificName), "sp. inc.", NA)
tinro_specimen$scientificName <- gsub(" sp.", "", tinro_specimen$scientificName)

# Similar to the overall catch, change two taxa names:
tinro_specimen$scientificName <- gsub("Phacellophora camtshchatica", "Phacellophora camtschatica", tinro_specimen$scientificName)
tinro_specimen$scientificName <- gsub("Oncorhynchus tschawytscha", "Oncorhynchus tshawytscha", tinro_specimen$scientificName)

worms_specimen <- worrms::wm_records_names(unique(tinro_specimen$scientificName)) %>% bind_rows() %>%
  select(scientificName = scientificname,
         scientificNameAuthorship = authority,
         kingdom, phylum, class, order, family, genus,
         scientificNameID = lsid)

tinro_specimen_fnl <- left_join(tinro_specimen, worms_specimen, by = "scientificName")
tinro_specimen_fnl <- tinro_specimen_fnl %>%
  mutate(specificEpithet = stringr::word(tinro_specimen_fnl$scientificName, 2),
         occurrenceStatus = "present",
         individualCount = 1)
```

Combine both occurrence extensions into a single data table: 

```{r final tinro catch, eval = FALSE}
tinro2022_trawl_occ <- dplyr::bind_rows(tinro_occ_fnl, tinro_specimen_fnl)

# To re-order the occurrenceID, use following code:
order <- stringr::str_sort(tinro2022_trawl_occ$occurrenceID, numeric=TRUE)
tinro2022_trawl_occ <- tinro2022_trawl_occ[match(order, tinro2022_trawl_occ$occurrenceID),]

# Save the occurrence Core locally and in Google Drive:
write_csv(tinro2022_trawl_occ, "tinro2022_trawl_occ.csv")
```

Create a resourceRelationship extension data table to indicate that specimen data are part of the overall catch data:

```{r resourceRelationship, eval = FALSE}
tinro_resourceRelationship <- tinro2022_trawl_occ %>%
  select(eventID, occurrenceID, scientificName) %>%
  mutate(resourceID = ifelse(!is.na(tinro2022_trawl_occ$individualCount), tinro2022_trawl_occ$occurrenceID, NA)) %>%
  group_by(eventID, scientificName) %>%
  filter(n() != 1) %>%
  ungroup()

tinro_resourceRelationship <- tinro_resourceRelationship %>%
  mutate(relatedResourceID = ifelse(is.na(tinro_resourceRelationship$resourceID), tinro_resourceRelationship$occurrenceID, NA)) %>%
  mutate(relationshipOfResource = ifelse(!is.na(resourceID), "is a subset of", NA)) %>%
  dplyr::arrange(eventID, scientificName) %>%
  fill(relatedResourceID) %>%
  filter(!is.na(resourceID))

order <- stringr::str_sort(tinro_resourceRelationship$resourceID, numeric = TRUE)

tinro_resourceRelationship <- tinro_resourceRelationship[match(order, tinro_resourceRelationship$resourceID),]
tinro_resourceRelationship <- tinro_resourceRelationship %>%
  mutate(resourceRelationshipID = paste(relatedResourceID, "rr", sep = ":"),
         ID = sprintf("%03d", row_number()),
         resourceRelationshipID = paste(resourceRelationshipID, ID, sep = ":")) %>%
  select(eventID, resourceRelationshipID, resourceID, relationshipOfResource, relatedResourceID)

write_csv(tinro_resourceRelationship, "tinro_resourceRelationship.csv")
```

Create an extended measurementOrFact (eMOF) extension, by creating multiple data tables and combining them:

```{r TINRO RV, eval = FALSE}
tinro_trawl2022_rv <- tinro_event_info %>% filter(Event_Type == "Trawl") %>%
  select(eventID = Station_Event_ID,
         measurementValue = Vessel_Name_Abbr) %>%
  mutate_all(as.character) %>%
  mutate(measurementType = "Research Vessel",
         measurementTypeID = "http://vocab.nerc.ac.uk/collection/L06/current/31/",
         measurementValueID = "http://vocab.nerc.ac.uk/collection/C17/current/90TN/", #deprecated so have to find replacement..?
         measurementUnit = NA,
         measurementUnitID = NA) %>%
  distinct()
```

Next, information on bottomdepth during the trawl is added:

```{r TINRO bottomdepth, eval = FALSE}
tinro_trawl2022_bottomdepth <- tinro_event_info %>% filter(Event_Type == "Trawl") %>%
  select(eventID = Station_Event_ID,
         Bottom_Depth_Meters = `Bottom_Depth*_Meters`) %>%
  mutate_all(as.character) %>%
  pivot_longer(cols = Bottom_Depth_Meters,
               names_to = "measurementType",
               values_to = "measurementValue") %>%
  mutate(measurementTypeID = case_when(
    measurementType == "Bottom_Depth_Meters" ~ "http://vocab.nerc.ac.uk/collection/P09/current/BATH/"),
    measurementUnit = "meters",
    measurementUnitID = case_when(
      measurementUnit == "meters" ~ "http://vocab.nerc.ac.uk/collection/P06/current/ULAA/"),
      measurementValueID = NA,
    measurementID = paste(eventID, measurementType, sep = "-")) %>%
  select(eventID, measurementID, measurementType, measurementTypeID, measurementValue, measurementValueID,
         measurementUnit, measurementUnitID)
```

Sampling instrument parameters:

```{r sampling instrument, eval = FALSE}
tinro_sampling_stations <- tinro_event_info %>% filter(Event_Type == "Trawl") %>% select(Station_Event_ID)
tinro_samplingInstrument <-  tinro_data_dictionary %>% filter(`Cruise / Instrument` == "Trawl") %>%
  filter(Attribute %in% c("Gear_type", "Mesh_Size", "Cod-end_Mesh_Size", "Net_Length", "Net_Width", "Net_Height")) %>%
  select(measurementType = Attribute, 
         measurementValue = Value)
tinro_samplingInstrument <- merge(tinro_sampling_stations, tinro_samplingInstrument) %>%
  rename(eventID = Station_Event_ID) %>%
  mutate_all(as.character) %>%
  mutate(measurementTypeID = case_when(
    measurementType == "Gear_type" ~ "http://vocab.nerc.ac.uk/collection/Q01/current/Q0100002/",
    measurementType == "Mesh_Size" ~ " ",
    measurementType == "Cod-end_Mesh_Size" ~ " ",
    measurementType == "Net_Length" ~ " ",
    measurementType == "Net_Width" ~ "http://vocab.nerc.ac.uk/collection/Q01/current/Q0100014/",
    measurementType == "Net_Height" ~ "http://vocab.nerc.ac.uk/collection/Q01/current/Q0100013/"),
    measurementUnit = case_when(
      measurementType %in% c("Mesh_Size", "Cod-end_Mesh_Size") ~ "millimeters",
      measurementType %in% c("Net_Length", "Net_Width", "Net_Height") ~ "meters"),
    measurementUnitID = case_when(
      measurementUnit == "millimeters" ~ "http://vocab.nerc.ac.uk/collection/P06/current/UXMM/",
      measurementUnit == "meters" ~ "http://vocab.nerc.ac.uk/collection/P06/current/ULAA/"),
    measurementValueID = case_when(
      measurementType == "Gear_type" ~ " "),
    measurementID = paste(eventID, measurementType, sep = "-")) %>%
  select(eventID, measurementID, measurementType, measurementTypeID, measurementValue, measurementValueID,
         measurementUnit, measurementUnitID)
```

Measurements pertaining to the sampling effort: 

```{r samplingEffort, eval = FALSE}
tinro_trawl2022_samplingEffort <- tinro_event_info %>% filter(Event_Type == "Trawl") %>%
  select(eventID = Station_Event_ID,
         Sampling_Duration_Minutes,
         Tow_speed_kilometers_per_hour,
         Tow_distance_nautical_miles)
tinro_trawl2022_samplingEffort$Sampling_Duration_Minutes <- format(tinro_trawl2022_samplingEffort$Sampling_Duration_Minutes, "%H")
tinro_trawl2022_samplingEffort$Sampling_Duration_Minutes <- as.numeric(tinro_trawl2022_samplingEffort$Sampling_Duration_Minutes)
tinro_trawl2022_samplingEffort$Sampling_Duration_Minutes <- round(tinro_trawl2022_samplingEffort$Sampling_Duration_Minutes * 60) #Ugly code -> rewrite!

tinro_trawl2022_samplingEffort <- tinro_trawl2022_samplingEffort %>%
  mutate_all(as.character) %>%
  pivot_longer(cols = Sampling_Duration_Minutes:Tow_distance_nautical_miles,
               names_to = "measurementType",
               values_to = "measurementValue") %>%
  mutate(measurementTypeID = case_when(
    measurementType == "Tow_distance_nautical_miles" ~ "http://vocab.nerc.ac.uk/collection/P01/current/LENTRACK/",
    measurementType == "Tow_speed_kilometers_per_hour" ~ "http://vocab.nerc.ac.uk/collection/P01/current/TOWSPEED/",
    measurementType == "Sampling_Duration_Minutes" ~ "http://vocab.nerc.ac.uk/collection/P01/current/AZDRZZ01/"),
    measurementUnit = case_when(
      measurementType == "Tow_distance_nautical_miles" ~ "nautical miles",
      measurementType == "Tow_speed_kilometers_per_hour" ~ "kilometers per hour",
      measurementType == "Sampling_Duration_Minutes" ~ "minutes"),
    measurementUnitID = case_when(
      measurementUnit == "minutes" ~ "http://vocab.nerc.ac.uk/collection/P06/current/UMIN/",
      measurementUnit == "kilometers per hour" ~ "http://vocab.nerc.ac.uk/collection/P06/current/KMHR/",
      measurementUnit == "nautical miles" ~ "http://vocab.nerc.ac.uk/collection/P06/current/NTML/"),
    measurementValueID = NA,
    measurementID = paste(eventID, measurementType, sep = "-")) %>%
  select(eventID, measurementID, measurementType, measurementTypeID, measurementValue, measurementValueID,
         measurementUnit, measurementUnitID)
```

And for the environmental variables:

```{r environmental variables, eval = FALSE}
tinro2022_env <- tinro_event_info %>% filter(Event_Type == "Trawl") %>%
  select(eventID = Station_Event_ID,
         Wind_Direction_Degrees,
         Wind_Speed_kilometers_per_hour,
         Wave_height_Meters,
         Swell_height_Meters) %>%
  mutate_all(as.character) %>%
  pivot_longer(cols = Wind_Direction_Degrees:Swell_height_Meters,
               names_to = "measurementType",
               values_to = "measurementValue") %>%
  mutate(measurementTypeID = case_when(
    measurementType == "Wind_Direction_Degrees" ~ "http://vocab.nerc.ac.uk/collection/B39/current/relwinddir/",
    measurementType == "Wind_Speed_kilometers_per_hour" ~ "http://vocab.nerc.ac.uk/collection/P07/current/CFSN0038/",
    measurementType == "Wave_height_Meters" ~ "http://vocab.nerc.ac.uk/collection/P07/current/JNQS0CMX/",
    measurementType == "Swell_height_Meters" ~ "http://vocab.nerc.ac.uk/collection/P09/current/SWHT/"),
    measurementUnit = case_when(
      measurementType == "Wind_Direction_Degrees" ~ "degrees",
      measurementType == "Wind_Speed_kilometers_per_hour" ~ "kilometers per hour",
      measurementType == "Wave_height_Meters" ~ "meters",
      measurementType == "Swell_height_Meters" ~ "meters"),
    measurementUnitID = case_when(
      measurementUnit == "meters" ~ "http://vocab.nerc.ac.uk/collection/P06/current/ULAA/",
      measurementUnit == "degrees" ~ "http://vocab.nerc.ac.uk/collection/P06/current/UAAA/",
      measurementUnit == "kilometers per hour" ~ "http://vocab.nerc.ac.uk/collection/P06/current/KMHR/"),
    measurementValueID = NA,
    measurementID = paste(eventID, measurementType, sep = "-")) %>%
  drop_na(measurementValue) %>%
  select(eventID, measurementID, measurementType, measurementTypeID, measurementValue, measurementValueID,
         measurementUnit, measurementUnitID)
```

Next two eMOF extensions are created with measurements pertaining to overall species' catch weight at each trawl, and individual length and weight measurements. For some of these parameters a value is not recorded (ie. they show up as _NA_), and these records are dropped from the final emof extension. The lifeStage is populated in the Occurrence extension section.

```{r TINRO All-catch eMoF, eval = FALSE}
tinro2022_trawl_allcatch_emof <- tinro_catch %>%
  select(eventID = Station_Event_ID, 
         occurrenceID = Catch_ID,
         individualCount = Catch_count,
         Catch_weight,
         lifeStage = Lifestage) %>%
  mutate_all(as.character) %>%
  pivot_longer(cols = individualCount:lifeStage,
               names_to = "measurementType",
               values_to = "measurementValue") %>%
  mutate(measurementID = paste(occurrenceID, measurementType, sep = "-"),
         measurementTypeID = case_when(
           measurementType == "Catch_weight" ~ "http://vocab.nerc.ac.uk/collection/S06/current/S0600088/",
           measurementType == "individualCount" ~ "http://vocab.nerc.ac.uk/collection/P01/current/OCOUNT01/",
           measurementType == "lifeStage" ~ "http://vocab.nerc.ac.uk/collection/P01/current/LSTAGE01/"),
         measurementUnit = case_when(
           measurementType == "Catch_weight" ~ "kilogram",
           measurementType == "individualCount" ~ "individuals"),
         measurementUnitID = case_when(
           measurementUnit == "kilogram" ~ "http://vocab.nerc.ac.uk/collection/P06/current/KGXX/",
           measurementUnit == "individuals" ~ "http://vocab.nerc.ac.uk/collection/P06/current/UUUU/"),
         measurementValueID = case_when(
           measurementValue == "Juvenile" ~ "http://vocab.nerc.ac.uk/collection/S11/current/S1127/",
           measurementValue == "adult" ~ "http://vocab.nerc.ac.uk/collection/S11/current/S1116/",
           measurementValue == "immature" ~ "http://vocab.nerc.ac.uk/collection/S11/current/S1171/")) %>%
  select(eventID, occurrenceID, measurementID, measurementType, measurementTypeID, measurementValue, measurementValueID,
         measurementUnit, measurementUnitID)
```

Next, create the emof for specimen data:

```{r TINRO Specimen emof, eval = FALSE}
tinro_specimen <- read_excel("IYS2022_TINRO.xlsx", sheet = "6. SPECIMEN INFO")
tinro2022_specimen_emof <- tinro_specimen %>%
  select(eventID = Station_Event_ID, 
         occurrenceID = Specimen_ID,
         Sex,
         lifeStage = Lifestage,
         Specimen_Forklength = Specimen_Length,
         Specimen_StandardLength = Specimen_Length2,
         individualCount = Number_measured,
         Specimen_Weight) %>%
  mutate_all(as.character) %>%
  pivot_longer(cols = Sex:Specimen_Weight,
               names_to = "measurementType",
               values_to = "measurementValue") %>%
  mutate(measurementID = paste(occurrenceID, measurementType, sep = "-"),
         measurementTypeID = case_when(
           measurementType == "Sex" ~ "http://vocab.nerc.ac.uk/collection/P01/current/ENTSEX01/",
           measurementType == "lifeStage" ~ "http://vocab.nerc.ac.uk/collection/P01/current/LSTAGE01/",
           measurementType == "Specimen_Forklength" ~ "http://vocab.nerc.ac.uk/collection/P01/current/FL01XX01/",
           measurementType == "Specimen_StandardLength" ~ "http://vocab.nerc.ac.uk/collection/P01/current/SL01XX01/",
           measurementType == "individualCount" ~ "http://vocab.nerc.ac.uk/collection/P01/current/OCOUNT01/",
           measurementType == "Specimen_Weight" ~ "http://vocab.nerc.ac.uk/collection/S06/current/S0600088/"),
         measurementUnit = case_when(
           measurementType == c("Specimen_Forklength", "Specimen_StandardLength") ~ "millimeters",
           measurementType == "Specimen_Weight" ~ "grams",
           measurementType == "individualCount" ~ "individuals"),
         measurementUnitID = case_when(
           measurementUnit == "millimeters" ~ "http://vocab.nerc.ac.uk/collection/P06/current/UXMM/",
           measurementUnit == "grams" ~ "http://vocab.nerc.ac.uk/collection/P06/current/UGRM/",
           measurementUnit == "individuals" ~ "http://vocab.nerc.ac.uk/collection/P06/current/UUUU/"),
         measurementValueID = case_when(
           measurementValue == "adult" ~ "http://vocab.nerc.ac.uk/collection/S11/current/S1116/",
           measurementValue == "Juvenile" ~ "http://vocab.nerc.ac.uk/collection/S11/current/S1127/",
           measurementValue == "immature" ~ "http://vocab.nerc.ac.uk/collection/S11/current/S1171/",
           measurementValue == "Female" ~ "http://vocab.nerc.ac.uk/collection/S10/current/S102/",
           measurementValue == "Male" ~ "https://vocab.nerc.ac.uk/collection/S10/current/S103/",
           measurementValue == "N" ~ "https://vocab.nerc.ac.uk/collection/S10/current/S105/")) %>%
  select(eventID, occurrenceID, measurementID, measurementType, measurementTypeID, measurementValue, measurementValueID,
         measurementUnit, measurementUnitID)
```

Combine the emof data tables:

```{r TINRO Trawl emof, eval = FALSE}
tinro2022_trawl_eMOF_sampling <- dplyr::bind_rows(tinro_trawl2022_rv,
                                   tinro_trawl2022_bottomdepth,
                                   tinro_trawl2022_samplingEffort,
                                   tinro2022_env)
tinro2022_trawl_eMOF_catch <- dplyr::bind_rows(tinro2022_trawl_allcatch_emof, 
                                   tinro2022_specimen_emof)
```











